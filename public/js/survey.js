console.log("connected survey.js")

Survey.Survey.cssType = "bootstrap";

Survey.Survey.cssType = "bootstrap";

var surveyJSON = {completedHtml:"<p><h4>Thank you for sharing this information with us.</h4></p>",pages:[{name:"Client and Issue Information",elements:[{type:"dropdown",name:"client_type",title:"The Client is a Property:",isRequired:true,choices:[{value:"owner",text:"Owner"},{value:"renter",text:"Renter"},{value:"other",text:"Other"}]},{type:"radiogroup",name:"issue_type",visible:false,visibleIf:"{client_type} = \"owner\" ",title:"The Clients issue is:",isRequired:true,choices:[{value:"fence_damage",text:"Someone has damaged the fence"},{value:"fence_repair_replace",text:"They want to replace or repair the Fence"},{value:"fence_type_disagree",text:"Their Neighbour has built a fence they don't agree with."},{value:"fence_new_property",text:"The Property is new and they need to erect a Fence"},{value:"fence_ntf",text:"They have received a Notice to Fence and not sure what to do"}]},{type:"html",name:"client_other",visible:false,visibleIf:"{client_type} = 'other'",html:"<h3>Not the Owner of the Property</h3>\n\n<p>In order to make decisions for the property you will need to have the ownerâ€™s permission. You should consult with them before doing anything. </p>"}]},{name:"Contractor Quotes",elements:[{type:"radiogroup",name:"fence_contractor_quote_obtained",visible:false,visibleIf:"{issue_type} = 'fence_damage' or {issue_type} = 'fence_repair_replace' or {issue_type} = 'fence_new_property'",title:"Do you have quotes from a independant fencing contractor?",isRequired:true,choices:[{value:"yes",text:"Yes"},{value:"no",text:"No"}]},{type:"html",name:"no_quote_obtained",visible:false,visibleIf:"{fence_contractor_quote_obtained}='no",startWithNewLine:false,html:"<h3>Client has not obtained a quote</h3>\n\n<p>Having a quote is a good first step to resolving conflict; it allows you to rely on a professional opinion and give you a realistic figure to negotiate over.</p>\n\n<p>We would encourage you to get a quote from a professional and share this with your neighbour. </p>\n\n<strong>{insert steps to complete after a quote has been obtained}</strong>"},{type:"radiogroup",name:"share_quote_with_neighbour",visible:false,visibleIf:"{fence_contractor_quote_obtained}='yes'",title:"Have you shared the quotes with your neighbour?",isRequired:true,choices:[{value:"yes",text:"Yes"},{value:"no",text:"No"}]},{type:"html",name:"has_not_shared_quote",visible:false,visibleIf:"{share_quote_with_neighbour}='no'",startWithNewLine:false,html:"<h3>Client has not shared the quote with their neighbour</h3>\n\n<p>We would encourage you to share the quote with your neighbour.</p>"},{type:"html",name:"guiding_suitability_questions_cost_and_need",visible:false,visibleIf:"{fence_contractor_quote_obtained}='yes' and {share_quote_with_neighbour}='yes'",startWithNewLine:false,html:"<h3>What is the total cost of the Fence?</h3>\n<p>{advice and information here}</p>\n\n<h3>How much are you expecting each party to contribute?</h3>\n<p>{advice and information here}</p>"}]},{name:"Neighbour Contact",elements:[{type:"radiogroup",name:"contactable_neighbour",visible:false,visibleIf:"{share_quote_with_neighbour}='no'",title:"Are you able to contact your neighbour?",isRequired:true,choices:[{value:"yes",text:"Yes"},{value:"no",text:"No"}]},{type:"html",name:"unable_to_contact_neighbour",visible:false,visibleIf:"{contactable_neighbour}='no'",startWithNewLine:false,html:"<h3> The Client is unable to contact their Neighbour</h3>\n\n<p>If you do not have the owners details you can contact the Council or LANDATA.vic.gov.au to obtain the address of the owner next door for submitting a Notice To Fence </p>"},{type:"radiogroup",name:"neighbour_contact",visible:false,visibleIf:"{contactable_neighbour}='yes'",title:"Have you spoken to or contacted the neighbour?",isRequired:true,choices:[{value:"yes",text:"Yes"},{value:"no",text:"No"}]},{type:"html",name:"client_able_to_speak_to_neighbour",visible:false,visibleIf:"{contactable_neighbour}='yes' and {neighbour_contact}='no'",startWithNewLine:false,html:"<h3>Encourage Client to speak to Neighbour</h3>\n\n<p>We would encourage you to share your fencing quote with your neighbour. You may like to include a letter outlining your proposal. </p>\n\n<p>You may also consider submitting a NTF as early as possible and waiting 30 days for a response. </p>"}]},{name:"Issue Analysis",elements:[{type:"checkbox",name:"disagreement_type",visible:false,visibleIf:"{share_quote_with_neighbour}='yes' or {neighbour_contact} = 'yes'",title:"Why do you and your neighbour not agree?",isRequired:true,choices:[{value:"fence_cost",text:"We disagree over who should pay what"},{value:"fence_type",text:"We disagree on what type of fence to build"},{value:"fence_boundary",text:"We disagree where to build the fence (Boundary)"},{value:"fence_retaining",text:"The fence includes a retaining wall"},{value:"fence_damaged_by_other",text:"One of us has caused damage to the fence"}]},{type:"html",name:"disagreement_cost",visible:false,visibleIf:"{disagreement_type} =\"fence_cost\"",startWithNewLine:false,html:"<h3>We disagree over who should pay what</h3>\n\n<ul>\n<li>Generally, fences are shared 50/50, but there are some exceptions</li>\n<li>Fences are typically replaced like-for-like (ie. The same as what was there before)</li>\n<li>If one of you wants a more expensive fence, that person would usually pay the difference</li>\n<li>The only way you can force someone to do something is to bring a fencing action through the Magistrates' court. If you intend to do this, you should seek legal advice. </li>\n</ul>"},{type:"html",name:"disagreement_fence_type",visible:false,visibleIf:"{disagreement_type} = 'fence_type'",startWithNewLine:false,html:"<h3>We disagree on what type of fence to build</h3>\n\n<ul>\n<li>Fences are typically replaced like-for-like (ie. The same as what was there before</li>\n<li>There is no 'standard' fence. Instead, people should consider what is normal for the area and what their individual requirements are. </li>\n<li>If you disagree over what type of fence to build, you should talk first to try coming to a solution. </li>\n</ul>"},{type:"html",name:"fence_includes_a_retaining_wall",visible:false,visibleIf:"{disagreement_type} = 'fence_retaining'",startWithNewLine:false,html:"<h3>The fence includes a retaining wall</h3>\n\n<ul>\n<li>Retaining walls are not covered by the Fences Act, so the general principles of fencing may not apply.</li>\n<li>If one neighbour caused the need for a retaining wall (ie. Excavated at the property) then they would usually pay the full cost.</li>\n<li>It may be best to try and negotiate with your neighbour to come to an agreement. You could try a private discussion or mediation.</li>\n</ul>\n\n<h3>other retaining wall guiding questions</h3>\n<h4>How much will a new retaining wall cost?</h4>\n<h4> Where could it be built? </h4>\n<h4>What happens if a retaining wall is not built?</h4>"}]},{name:"Notice to Fence",elements:[{type:"html",name:"client_received_ntf",visible:false,visibleIf:"{issue_type}='fence_ntf'",html:"<h3> Client has received a Notice to Fence</h3>\n\n<p>Steps on how to respond.</p>"},{type:"radiogroup",name:"notice_to_fence",visible:false,title:"Have you submitted a Notice to Fence?",isRequired:true,choices:[{value:"yes",text:"Yes"},{value:"no",text:"No"}]},{type:"html",name:"ntf_steps",visible:false,html:"<h3>Notice to Fence Steps</h3>\n\n<p>steps on how to complete a notice to fence</p>"}]},{name:"Renter",elements:[{type:"html",name:"renter_information_placeholder",visible:false,visibleIf:"{client_type} = \"renter\"",html:"<h3>Rental Information</h3?"}]},{name:"Boundary",elements:[{type:"radiogroup",name:"boundary_survey",visible:false,visibleIf:"{disagreement_type}='fence_boundary'",title:"Have you had a boundary survey conducted?",choices:[{value:"yes",text:"Yes"},{value:"no",text:"No"}]},{type:"html",name:"boundary_survey_completed",visible:false,visibleIf:"{boundary_survey}='yes'",startWithNewLine:false,html:"<h3>Client has conducted a Boundary Survey</h3>\n\n<ul>\n<li>The Fences Act allows for \"give and take\" fences, which means fences that are built around obstacles (ie. Not in a straight line)</li>\n<li>Fences are typically replaced like-for-like (ie. The same as what was there before)</li>\n<li>If you or the neighbour wish to claim adverse possession, you should seek legal advice. Adverse Possession is a complex legal issue and the DSCV cannot provide advice around these disputes. </li>\n<li>If you don't agree where the fence should be built, you should attempt to negotiate first to reach a solution.</li>\n</ul>"},{type:"html",name:"boundary_survey_no",visible:false,visibleIf:"{boundary_survey}='no'",startWithNewLine:false,html:"<h3>Client has not conducted a Boundary Survey</h3>\n\n<ul>\n<li>Obtaining a professionals opinion through a boundary survey may help you reach an outcome.</li>\n<li>You can submit a \"Boundary Survey Notice\" to your neighbour, which can help you split the costs of obtaining the quote once you've obtained it.</li>\n\n</ul>"}]},{name:"Approach"}]}


function sendDataToServer(survey) {
    survey.sendResult('97a3a248-767a-49bf-b31a-8a70abb4a311');
}

var survey = new Survey.Model(surveyJSON);
$("#surveyContainer").Survey({
    model: survey,
    onComplete: sendDataToServer
});

survey.onComplete.add(function(result) {
  document.querySelector('#surveyResult').innerHTML = "result: " + JSON.stringify(result.data);
});

Survey.defaultBootstrapCss.navigationButton = "btn btn-green";
Survey.defaultBootstrapCss.matrixdynamic.button = "btn btn-green";
Survey.Survey.cssType = "bootstrap";
